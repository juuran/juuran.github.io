import{Cykupuu as Cyk}from"../controller/cykupuu.js";async function noudaDataaServerilta(t,e){let n;try{n=await fetchaaTimeoutilla(t,e)}catch(t){throw t}if(n.ok)return n.text();{const t=n.statusText?`: ${n.statusText}`:"";throw new Error(`Saatu viesti oli vääränlainen (status ${n.status})${t}`)}}async function postaaDataaServerille(t,e,n){let r;const o=JSON.stringify(n);try{const n={method:"POST",headers:{"Content-Type":"application/json"},body:o};r=await fetchaaTimeoutilla(t,e,n)}catch(t){throw t}return r}async function fetchaaTimeoutilla(t,e,n={}){const r=new AbortController,o=setTimeout((()=>r.abort()),1e3*e),{signal:a}=r;try{var i=await fetch(t,{...n,signal:a})}finally{clearTimeout(o)}return i}function setFunctionForTimer(t,e){return setTimeout(t,1e3*e)}function clearTimer(t){try{logDebug("Perutaan ajastin: "+t),clearTimeout(t)}catch(t){logWarn("Ajastin oli jo peruttu tai sitä ei löytynyt: "+t.message)}}function sleep(t){return new Promise((e=>setTimeout(e,1e3*t)))}function isNumber(t){return"number"==typeof t}function setCursorFocusAtEndOfText(t){t.focus();const e=t.value;t.value="",t.value=e}function log(t){}function logDebug(t){Cyk.DEBUG_LOG}function logWarn(t){}function logError(t){}function isDebugLog(){return!0===Cyk.DEBUG_LOG}function dateToFIString(t){return t?t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear():"<tyhjä pvm>"}function dateToInputDateString(t){return t?t.toISOString().substring(0,10):null}function timeToFIString(t){return t?t.getHours().toString().padStart(2,"0")+"."+t.getMinutes().toString().padStart(2,"0")+"."+t.getSeconds().toString().padStart(2,"0"):"<tyhjä aika>"}export{sleep,setFunctionForTimer,clearTimer,isNumber,noudaDataaServerilta,postaaDataaServerille,setCursorFocusAtEndOfText,log,logDebug,logWarn,logError,isDebugLog,dateToFIString,dateToInputDateString,timeToFIString};