import{tila}from"../controller/main.js";import{cy}from"../controller/cykupuu.js";import{SuhdeLiitos}from"./suhdeliitos.js";class Suhde{id;nimike;onkoYhdessa;onkoNaimisissa;ylavirtaLiitokset;alavirtaLiitokset;initialXPosition;initialYPosition;constructor(i,t,s,o,e,a,n=null,l=null){this.id=i,this.nimike=t,this.onkoYhdessa=s,this.onkoNaimisissa=o,this.ylavirtaLiitokset=e,this.alavirtaLiitokset=a,this.initialXPosition=n,this.initialYPosition=l}toString(){let i="{";if(this.ylavirtaLiitokset.length>0){for(let t=0;t<this.ylavirtaLiitokset.length;t++){const s=this.ylavirtaLiitokset[t].getHenkiloId();i+=tila.naytaTila().henkilot.get(s).etunimet.split(" ")[0],i+=t===this.ylavirtaLiitokset.length-1?"":", "}i+="}"}let t="{";if(this.alavirtaLiitokset.length>0){for(let i=0;i<this.alavirtaLiitokset.length;i++){const s=this.alavirtaLiitokset[i].getHenkiloId();t+=tila.naytaTila().henkilot.get(s).etunimet.split(" ")[0],t+=i===this.alavirtaLiitokset.length-1?"":", "}t+="}"}else t=null;return t?`${i} -> ${t}`:`${i}`}getNakyvaNimi(){const i=this.onkoYhdessa?"â¤ï¸":"ğŸ’”",t=this.onkoNaimisissa?"â›ª":"";let s="";const o=this.nimike;return"avioliitto"===o||"rekisterÃ¶ity parisuhde"===o||"naimisissa"===o?s="ğŸ“œ":"epÃ¤selvÃ¤"===o?s="â¤ï¸â€ğŸ©¹":"lehtolapsi"===o?s="ğŸƒ":"polygamia"===o?s="ğŸ’•":""===o&&(s=""),`${i}${t}${s}`}getTaydetTiedot(){return(this.nimike?`"${this.nimike}",\n`:"")+(this.onkoNaimisissa?"naimisissa":"ei naimisissa")+(this.onkoYhdessa?"":",\neronnut")}getXPosition(){return cy.getElementById(this.id).position().x}getYPosition(){return cy.getElementById(this.id).position().y}static reviver(i,t){return""===i?t:t&&"object"==typeof t&&"id"in t&&"nimike"in t&&"onkoNaimisissa"in t&&"onkoYhdessa"in t&&Array.isArray(t.ylavirtaLiitokset)&&Array.isArray(t.alavirtaLiitokset)?new Suhde(t.id,t.nimike,t.onkoYhdessa,t.onkoNaimisissa,t.ylavirtaLiitokset,t.alavirtaLiitokset,t.xPosition,t.yPosition):t&&"object"==typeof t&&"id"in t&&"onkoBiologinen"in t?new SuhdeLiitos(t.id.henkiloId,t.id.suhdeId,t.onkoBiologinen):t&&"object"==typeof t&&"id"in t?new SuhdeLiitos(t.id.henkiloId,t.id.suhdeId):t}toJSON(){return{id:this.id,nimike:this.nimike,onkoYhdessa:this.onkoYhdessa,onkoNaimisissa:this.onkoNaimisissa,ylavirtaLiitokset:this.ylavirtaLiitokset,alavirtaLiitokset:this.alavirtaLiitokset,xPosition:this.getXPosition(),yPosition:this.getYPosition()}}}export{Suhde};